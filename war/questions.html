<!DOCTYPE html><html><head><meta charset="utf-8" /><title>WordPong Questions Editor</title><meta http-equiv="Expires" content="0"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1"><meta name="description" content="WordPong Questions Editor"><meta name="author" content="Systemsplanet"><link rel="stylesheet" href="/css/jquery.mobile.css" /><link rel="stylesheet" href="/css/wp.css" type="text/css"><script type="text/javascript" src="/js/jquery-1.6.2.min.js"></script><script type="text/javascript" src="/js/dump.js"></script> <script type="text/javascript" src="/js/dateFormat.js"></script><script type="text/javascript" src="/js/jquery.mobile.min.js"></script></head><body><!-- Start of login page --><div data-role="page" id="loginPage">	<div data-role="header">		<h1>WordPong Login</h1>	</div><!-- /header -->	<div data-role="content">			<form id="loginForm" name="loginForm" action="#">			<div data-role="fieldcontain">				<label for="email">Email:</label>					<input id="email" name="email" type="text" value="test@test.com" />			</div>			<div data-role="fieldcontain">				<label for="password">Password:</label>					<input id="password" name="password" type="text" value="test" />			</div>			<input value="Login" type="submit"/>		</form>	</div>	<div data-role="footer" class='wp-footer'>		<h5><small>©2011 WordPong.com</small></h5>	</div></div><!-- /page --><!-- Start of questions page --><div data-role="page" id="questionPage">	<div data-role="header">		<h1>Add Questions</h1>	</div><!-- /header -->	<div data-role="content">		<form id="questionForm" name="loginForm" action="#">				<!-- TODO: required -->			<div data-role="fieldcontain">				<label for="title">Title:</label>					<input id="title" name="title" type="text" value="My Question Title" />			</div>				<!-- TODO: required -->			<div data-role="fieldcontain">				<label for="description">Description:</label>					<input id="description" name="description" type="text" value="My Question Description" /><br/>			</div>						<!-- TODO: required -->			<div data-role="fieldcontain">				<label for="q1">Question 1:</label>					<input id="q1" name="q1" type="text" value="" />				<label for="q2">Question 2:</label>					<input id="q2" name="q2" type="text" value="" />				<label for="q3">Question 3:</label>					<input id="q3" name="q3" type="text" value="" />				<label for="q4">Question 4:</label>					<input id="q4" name="q4" type="text" value="" />			</div>				<div data-role="fieldcontain">				<label for="intimacy">Intimacy Level:</label>					<select name="intimacy" id="intimacy" size="1">				    <!-- <option value="" SELECTED="true">Choose One</option> -->				    <option value="0">Cliche</option>				    <option value="1" SELECTED="true">Fact</option>				    <option value="2">Opinion</option>				    <option value="3">Hopes and Dreams</option>				    <option value="4">Feelings</option>				    <option value="5">Fears/Failures/Weaknesses</option>				    <option value="6">Needs</option>			 	</select>			</div>				<div data-role="fieldcontain">				<label for="visibility">Visibility:</label>					<select name="visibility" id="visibility" size="1">				 <option value="0" SELECTED="true">Private</option>				<option value="1">Public</option>			 	</select>			</div>				<div data-role="fieldcontain">				<label for="locale">Language:</label>							<select name="locale" id="locale" size="1">				    <option value="en_US" selected="true">English</option>				    <option value="fr_FR">French</option>				    <option value="es_ES">Spanish</option>			 	</select>			</div>		<input value="Add Questions" type="submit"/>	</form>    <p><a href="/questions.html" rel="external">Login</a></p>		</div><!-- /content -->	<div data-role="footer" class='wp-footer'>		<h5><small>©2011 WordPong.com</small></h5>	</div></div><!-- /page --><script type="text/javascript">// Global Ajax error handler$.ajaxSetup(	{	cache:false,		crossDomain:true,		error:function(x,status, error){     		$.mobile.pageLoading(true);//close the wait icon			if(x.status==0){				alert('Network unavailable.');			}else if(x.status==302){				alert('Redirect status:'+ x.statusText + ' location:'+ x.getResponseHeader('location') );			}else if(x.status==403){				alert('Login expired.');			}else if(x.status==404){      				alert('Requested URL not found.');			}else if(x.status==500){				alert('Internel Server Error.');			}else if(x.status==503){				alert('Service Unavailable.');				window.location.href = "/err/infrastructure_unavailable.html"			}else if(status=='parsererror'){				alert('Error.\nParsing JSON Request failed.');			}else if(status=='timeout'){				alert('Request Time out.');			}else {				alert('Unknow Error.\n' + x.status +  ":" + x.responseText);			}			if (x.status!=503) {				//window.location.reload(true);			}		}			}	);// clear password on focus$('input:password').live("focus", function(e) {	this.value=''});                //var URL_REST = "https://wordpong.appspot.com/rest/v1/"var URL_REST     = "/rest/v1/"var URL_LOGIN    = URL_REST + "login/"var URL_QUESTION = URL_REST + "question/"//LOGIN FORM HANDLER$('#loginForm').submit(	function() {		var url = URL_LOGIN + $('#email').val() + "/" + $('#password').val() + "/";		//alert("login url:["+url+"]");		$.getJSON(url, 			function(data) {		        if (data[0].error=="0") {					window.location="#questionPage" 				} else {					alert(data[0].message);					//alert("result:\n"+ $.dump(data));				}		    }		);	    return false;	}	);//QUESTION FORM HANDLER$('#questionForm').submit(	function() {		var q1 = $('#q1').val();		var q2 = $('#q2').val();		var q3 = $('#q3').val();		var q4 = $('#q4').val();		var title = $('#title').val();		var description = $('#description').val();		var visibility = $('#visibility').val();		var intimacy = $('#intimacy').val();		var locale =  $('#locale').val();		var questions = { 		   "questions": [q1,q2,q3,q4] , 		   "title": title , 		   "description": description , 		   "visibility": visibility, 		   "intimacy": intimacy, 		   "locale": locale 		};		//alert("sending raw data:"+$.dump(questions));						questions = JSON.stringify(questions)		//alert("post url:["+URL_QUESTION+"]\n data:\n"+$.dump(questions));			$.ajax({		  type: 'POST', url: URL_QUESTION, data: questions,		  dataType: "json",		  contentType: "application/json; charset=utf-8",		  success: function(data) {		  	   alert(data[0].message);			   //alert("result:\n"+ $.dump(data));			   }		});	    return false;	});</script></div></body></html>